query getTestSuite($id: ID!, $teamCount: Int) {
    suite: node(id: $id) {
        ... on Suite {
            id
            uuid
            defaultBranch
            name
            slug
            teams(first: $teamCount, order: NAME) {
                edges {
                    node {
                        id
                        accessLevel
                        team {
                            id
                        }
                    }
                }
            }
        }
    }
}

mutation createTestSuiteTeam($teamId: ID!, $suiteId: ID!, $accessLevel: SuiteAccessLevels!) {
    teamSuiteCreate(input: {teamID: $teamId, suiteID: $suiteId, accessLevel: $accessLevel}) {
        suite {
            teams(order: NAME, first: 50) {
                edges {
                    node {
                        id
                        uuid
                        team {
                            id
                        }
                    }
                }
            }
        }
        teamSuite {
            id
            uuid
            accessLevel
            team {
                id
            }
        }
    }
}

mutation deleteTestSuiteTeam($id: ID!) {
    teamSuiteDelete(input: {id: $id, force: true}) {
        deletedTeamSuiteID
        team {
            id
        }
    }
}

mutation updateTestSuiteTeam($id: ID!, $accessLevel: SuiteAccessLevels!) {
    teamSuiteUpdate(input: {id: $id, accessLevel: $accessLevel}) {
        teamSuite {
            accessLevel
            id
            uuid
        }
    }
}

query listTeamSuites($org: ID!, $suite: String, $teamCount: Int) {
    organization(slug: $org) {
        suites(search: $suite, first: 5, order: RECENTLY_CREATED) {
            edges {
                node {
                    id
                    uuid
                    defaultBranch
                    name
                    slug
                    teams(first: $teamCount, order: NAME) {
                        edges {
                            node {
                                id
                                accessLevel
                                team {
                                    id
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
