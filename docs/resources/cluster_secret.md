---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "buildkite_cluster_secret Resource - terraform-provider-buildkite"
subcategory: ""
description: |-
  A Cluster Secret is an encrypted key-value pair that can be accessed by agents within a cluster.
---

# buildkite_cluster_secret (Resource)

A Cluster Secret is an encrypted key-value pair that can be accessed by agents within a cluster. Secrets are encrypted and can only be accessed by agents that match the access policy.

## Example Usage
```terraform
# create a cluster
resource "buildkite_cluster" "primary" {
  name        = "Primary cluster"
  description = "Runs the monolith build and deploy"
  emoji       = "ðŸš€"
  color       = "#bada55"
}

# create a basic secret
resource "buildkite_cluster_secret" "api_key" {
  cluster_id  = buildkite_cluster.primary.uuid
  key         = "API_KEY"
  value       = "super-secret-value"
  description = "API key for production services"
}

# create a secret with access policy
resource "buildkite_cluster_secret" "database_url" {
  cluster_id  = buildkite_cluster.primary.uuid
  key         = "DATABASE_URL"
  value       = "postgresql://user:pass@localhost/db"
  description = "Production database connection string"
  
  policy = <<-EOT
    - pipeline_slug: backend-deploy
      build_branch: main
    - pipeline_slug: backend-deploy
      build_branch: staging
  EOT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_id` (String) The UUID of the cluster this secret belongs to.
- `key` (String) The key name for the secret. Must start with a letter and only contain letters, numbers, and underscores. Maximum 255 characters.
- `value` (String, Sensitive) The secret value. Must be less than 8KB.

### Optional

- `description` (String) A description of what this secret is for.
- `policy` (String) YAML access policy defining which pipelines and branches can access this secret.

### Read-Only

- `created_at` (String) The time when the secret was created.
- `id` (String) The GraphQL ID of the cluster secret.
- `updated_at` (String) The time when the secret was last updated.

