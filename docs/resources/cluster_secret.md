---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "buildkite_cluster_secret Resource - terraform-provider-buildkite"
subcategory: ""
description: |-
  A Cluster Secret is an encrypted key-value pair that can be accessed by agents within a cluster.
  Secrets are encrypted and can only be accessed by agents that match the access policy.

  Note: Secret values are write-only and cannot be retrieved from the API. When importing an existing
  cluster secret, you must manually set the 'value' attribute in your configuration to match the secret's
  actual value, as Terraform cannot read it from the Buildkite API.

---

# buildkite_cluster_secret (Resource)

A Cluster Secret is an encrypted key-value pair that can be accessed by agents within a cluster.
Secrets are encrypted and can only be accessed by agents that match the access policy.

**Note:** Secret values are write-only and cannot be retrieved from the API. When importing an existing
cluster secret, you must manually set the 'value' attribute in your configuration to match the secret's
actual value, as Terraform cannot read it from the Buildkite API.

## Example Usage

```terraform
resource "buildkite_cluster_secret" "example" {
  cluster_id  = "01234567-89ab-cdef-0123-456789abcdef"
  key         = "DATABASE_PASSWORD"
  value       = "super-secret-password"
  description = "Production database password"
  policy      = <<-EOT
    pipeline_slug: my-pipeline
    branch: main
    - pipeline_slug: my-pipeline
      build_branch: main
  EOT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_id` (String) The UUID of the cluster this secret belongs to.
- `key` (String) The key name for the secret. Must start with a letter and only contain letters, numbers, and underscores. Maximum 255 characters. Must not start with `BUILDKITE_` or `BK_` as these prefixes are reserved.
- `value` (String, Sensitive) The secret value. Must be less than 8KB.

### Optional

- `description` (String) A description of what this secret is for.
- `policy` (String) YAML access policy defining which pipelines and branches can access this secret.

### Read-Only

- `created_at` (String) The time when the secret was created.
- `id` (String) The UUID of the cluster secret.
- `updated_at` (String) The time when the secret was last updated.
